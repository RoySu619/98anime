"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var C=Object.create;var u=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty;var I=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var W=(i,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of S(t))!z.call(i,s)&&s!==n&&u(i,s,{get:()=>t[s],enumerable:!(a=k(t,s))||a.enumerable});return i};var x=(i,t,n)=>(n=i!=null?C(q(i)):{},W(t||!i||!i.__esModule?u(n,"default",{value:i,enumerable:!0}):n,i));var d=I((O,h)=>{h.exports=Vue});var J=x(d());function m(i){return weex.requireModule(i)}var f=(i,t)=>{let n=i.__vccOpts||i;for(let[a,s]of t)n[a]=s;return n},A="http://xxmbao.bacms.cn/",l=uni.getWindowInfo(),R=uni.getDeviceInfo().deviceBrand,T=uni.getDeviceInfo().deviceId,N=uni.getAppBaseInfo().appName,D=uni.getAppBaseInfo().appVersionCode,H=uni.getAppBaseInfo().appVersion,L=0,P=0,j=Number(l.screenWidth),_=Number(l.statusBarHeight),b=Number(l.screenHeight);l.safeAreaInsets.bottom>0&&uni.setStorageSync("appb",l.safeAreaInsets.bottom);var w=Number(uni.getStorageSync("appb"))?Number(uni.getStorageSync("appb")):0,B=b-_-w,p={ip:A,appsys:R,appdvid:T,appV:D,appVs:H,appname:N,appt:_,appb:w,appw:j,apph:b,appmain_h:B,issoso_zt:L,isgggd_zt:P};var e=x(d()),V={nodata:{"":{width:"750rpx",height:"600rpx",flexDirection:"column",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"}},nodata_i:{"":{width:"400rpx",height:"300rpx"}},hed:{"":{width:"750rpx",position:"sticky"}},heds:{"":{width:"750rpx",paddingRight:"30rpx",backgroundColor:"#ffda08",paddingBottom:"20rpx",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"flex-end"}},hed_l:{"":{width:"70rpx",height:"70rpx",lineHeight:"70rpx",fontSize:"28rpx"}},hed_c:{"":{width:"250rpx",borderRadius:"50rpx",textAlign:"center",fontSize:"35rpx",fontWeight:"bold",height:"75rpx",lineHeight:"75rpx"}},hed_r:{"":{width:"70rpx",fontSize:"45rpx",textAlign:"center",height:"70rpx",lineHeight:"70rpx",color:"rgba(0,0,0,0.7)",fontFamily:"iconfont",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"37.5rpx"}},tp:{"":{width:"750rpx",paddingTop:"30rpx",paddingLeft:"30rpx",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"#f9f9f9"}},tp_li:{"":{width:"156.5rpx",marginRight:"20rpx",marginBottom:"30rpx",height:"60rpx",lineHeight:"60rpx",textAlign:"center",fontSize:"26rpx",borderRadius:"10rpx",backgroundColor:"rgba(255,255,255,1)"}},tp_li_cur:{"":{backgroundColor:"#ffda08"}},list:{"":{width:"750rpx",paddingTop:"30rpx",paddingLeft:"30rpx",paddingRight:"30rpx"}},list_b:{"":{width:"750rpx",height:"30rpx"}},gm:{"":{width:"690rpx",height:"130rpx",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"}},gm_i:{"":{width:"130rpx",height:"130rpx",borderRadius:"20rpx"}},gm_c:{"":{width:"450rpx",paddingLeft:"20rpx",flexDirection:"column",flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}},gm_c_t:{"":{width:"330rpx",height:"43rpx",lines:1,lineHeight:"43rpx",fontSize:"30rpx",fontWeight:"bold",paddingRight:"20rpx",color:"rgba(0,0,0,0.8)"}},gm_c_c:{"":{height:"43rpx",lineHeight:"50rpx",fontSize:"24rpx",color:"rgba(0,0,0,0.5)"}},gm_c_b:{"":{lines:1,height:"43rpx",lineHeight:"43rpx",fontSize:"24rpx",color:"rgba(0,0,0,0.5)"}},gm_r:{"":{marginTop:"30rpx",width:"100rpx",borderRadius:"15rpx",height:"60rpx",lineHeight:"60rpx",textAlign:"center",fontSize:"24rpx",backgroundImage:"linear-gradient(to top,#ffc30c,#ffda08)"}}},G=m("dom"),E={data(){return{ip:p.ip,appt:p.appt,appb:p.appb,istpid:999999999,bqlist:[],istpname:"",gmlist:[],pag:0,zpag:1}},onPullDownRefresh(){this.pag=0,this.zpag=1,this.getgmlist(1)},onLoad(){G.addRule("fontFace",{fontFamily:"iconfont",src:"url('http://www.268yx.cn/ttf/iconfontd.ttf')"})},onReady(){this.getbq(),this.getgmlist(1)},methods:{opgm(i){uni.navigateTo({url:"../../pages/gm/gmxx?id="+i})},setbq(i,t){uni.showLoading({title:"\u52A0\u8F7D\u4E2D"}),this.istpname=i,this.istpid=t,this.zpag=1,this.pag=0,this.getgmlist(1)},getgmlist(i){let t=this,n=Number(t.pag)+1;t.pag=n,n<=t.zpag&&uni.request({url:p.ip+"appapi.php?to=game",method:"GET",dataType:"json",enableCache:!0,defer:!0,data:{gmlist:"go",type:t.istpname,gmtp:t.istpid,pages:n},success:a=>{a.data.data?(uni.hideLoading(),i==1&&(t.gmlist=a.data.data,t.zpag=a.data.pagenum,uni.stopPullDownRefresh()),i==2&&(t.gmlist=t.gmlist.concat(a.data.data))):(t.gmlist=[],uni.hideLoading())}})},getbq(){let i=this;uni.request({url:p.ip+"appapi.php?to=game&op=game_bq",method:"GET",dataType:"json",enableCache:!0,defer:!0,data:{game_bq:"go"},success:t=>{t.data.data&&(i.bqlist=t.data.data)}})},opdow(){uni.navigateTo({url:"../../pages/user/dow"})},opgg(){uni.navigateTo({url:"../../pages/user/msg"})},opsoso(){uni.navigateTo({url:"../../pages/soso/soso"})},settab(i){i!=2&&uni.switchTab({url:"/pages/index/tab"+i,success:function(t){}})}}};function F(i,t,n,a,s,o){return(0,e.openBlock)(),(0,e.createElementBlock)("list",{onLoadmore:t[3]||(t[3]=r=>o.getgmlist(2)),loadmoreoffset:"10"},[(0,e.createElementVNode)("header",{class:"hed",renderWhole:!0},[(0,e.createElementVNode)("view",{class:"heds",renderWhole:!0,style:(0,e.normalizeStyle)("height: "+(s.appt+55)+"px;")},[(0,e.createElementVNode)("u-text",{class:"hed_l"}),(0,e.createElementVNode)("u-text",{class:"hed_l"}),(0,e.createElementVNode)("u-text",{class:"hed_c"},"\u8F6F\u4EF6\u4E2D\u5FC3"),(0,e.createElementVNode)("u-text",{class:"hed_r",onClick:t[0]||(t[0]=(...r)=>o.opsoso&&o.opsoso(...r))},"\uE8EF"),(0,e.createElementVNode)("u-text",{class:"hed_r",onClick:t[1]||(t[1]=(...r)=>o.opdow&&o.opdow(...r))},"\uE7EF")],4)]),(0,e.createElementVNode)("cell",{renderWhole:!0,class:"tp",showScrollbar:"true"},[(0,e.createElementVNode)("u-text",{class:(0,e.normalizeClass)(["tp_li",{tp_li_cur:s.istpid==999999999}]),onClick:t[2]||(t[2]=r=>o.setbq(1,999999999))},"\u5168\u90E8",2),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(s.bqlist,(r,y)=>((0,e.openBlock)(),(0,e.createElementBlock)("u-text",{class:(0,e.normalizeClass)(["tp_li",{tp_li_cur:s.istpid==r.id}]),key:r.id,onClick:v=>o.setbq(r.bqname,r.id)},(0,e.toDisplayString)(r.bqname),11,["onClick"]))),128))]),s.gmlist?((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,{key:0},(0,e.renderList)(s.gmlist,(r,y)=>((0,e.openBlock)(),(0,e.createElementBlock)("cell",{class:"list",key:r.id,onClick:v=>o.opgm(r.id)},[(0,e.createElementVNode)("view",{class:"gm",renderWhole:!0},[(0,e.createElementVNode)("u-image",{class:"gm_i",src:s.ip+r.gmlogo},null,8,["src"]),(0,e.createElementVNode)("view",{renderWhole:!0,class:"gm_c"},[(0,e.createElementVNode)("u-text",{class:"gm_c_t"},(0,e.toDisplayString)(r.gmname),1),(0,e.createElementVNode)("u-text",{class:"gm_c_c"},"\u7C7B\u578B\uFF1A "+(0,e.toDisplayString)(r.gmbq),1),(0,e.createElementVNode)("u-text",{class:"gm_c_b"},(0,e.toDisplayString)(r.gmjj),1)]),(0,e.createElementVNode)("u-text",{class:"gm_r"},"\u4E0B\u8F7D")])],8,["onClick"]))),128)):(0,e.createCommentVNode)("",!0),s.gmlist==""?((0,e.openBlock)(),(0,e.createElementBlock)("cell",{key:1,class:"nodata"},[(0,e.createElementVNode)("u-image",{class:"nodata_i",src:"/static/nodata.png"})])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("cell",{class:"list_b",renderWhole:!0})],32)}var g=f(E,[["render",F],["styles",[V]]]);var c=plus.webview.currentWebview();if(c){let i=parseInt(c.id),t="pages/index/tab2",n={};try{n=JSON.parse(c.__query__)}catch(s){}g.mpType="page";let a=Vue.createPageApp(g,{$store:getApp({allowDefault:!0}).$store,__pageId:i,__pagePath:t,__pageQuery:n});a.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...g.styles||[]])),a.mount("#root")}})();
